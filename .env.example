# ==============================================================================
# CRStats — Environment Variables
# ==============================================================================
# Copy this file to .env.local (development) and configure each variable.
# In Vercel, set these in the project's Environment Variables settings.
#
# IMPORTANT: Variables prefixed with VITE_ are exposed to the client bundle.
#            NEVER prefix sensitive secrets with VITE_.
# ==============================================================================

# ── Supabase ──────────────────────────────────────────────────────────────────
# Get these from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=eyJ...

# Service role key — server-side only, NEVER expose to client
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# ── Database ──────────────────────────────────────────────────────────────────
# For production/serverless: use the Supabase Transaction Pooler URL (port 6543).
# Get from: Supabase Dashboard → Settings → Database → Connection string → Transaction Pooler
# Format: postgresql://postgres.[project-ref]:[password]@[host]:6543/postgres
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:6543/postgres

# For migrations only (direct connection, port 5432):
DATABASE_MIGRATIONS_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# ── Stripe ────────────────────────────────────────────────────────────────────
# Get from: Stripe Dashboard → Developers → API keys
# Use test keys (sk_test_/pk_test_) for development, live keys (sk_live_/pk_live_) for production.
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...

# Get from: Stripe Dashboard → Developers → Webhooks → Signing secret
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs for CRStats PRO subscription (create in Stripe Dashboard → Products)
# Monthly: R$19,90/month  |  Annual: R$159/year
STRIPE_PRO_PRICE_ID=price_...
STRIPE_PRO_ANNUAL_PRICE_ID=price_...

# Price IDs for CRStats Elite subscription (create in Stripe Dashboard → Products)
# Monthly: R$39,90/month  |  Annual: R$299/year
STRIPE_ELITE_PRICE_ID=price_...
STRIPE_ELITE_ANNUAL_PRICE_ID=price_...

# ── OpenAI ────────────────────────────────────────────────────────────────────
# Used by the AI Coach feature. Get from: platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# ── Clash Royale API ──────────────────────────────────────────────────────────
# Get from: developer.clashroyale.com
CLASH_ROYALE_API_KEY=eyJ...

# ── Application ───────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=5000

# Base URL for redirects (Stripe success/cancel URLs, etc.)
# Development: http://localhost:5000  |  Production: https://your-domain.vercel.app
APP_BASE_URL=http://localhost:5000

# CORS origin(s) — comma-separated for multiple origins.
# Production: https://crstats.app  |  Development: omit to use defaults
# CORS_ORIGIN=https://crstats.app

# ── Cron Jobs ─────────────────────────────────────────────────────────────────
# Secret token to authenticate Vercel Cron Job requests.
# Generate with: openssl rand -hex 32
CRON_SECRET=

# ── Logging ───────────────────────────────────────────────────────────────────
# Log level: debug, info, warn, error (default: debug in dev, info in production)
# LOG_LEVEL=info
